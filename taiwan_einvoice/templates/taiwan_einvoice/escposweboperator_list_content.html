{% load i18n %}

<div class="total_count_row">
    {% with data.count as total_count %}
        {% blocktrans with total_count=total_count %}{{ total_count }} records{% endblocktrans %}
    {% endwith %}
</div>

<table class="table">
    <thead>
        <tr>
            <th width="5%">{% trans "No." %}</th>
            <th width="15%">{% trans "Name" %}</th>
            <th width="15%">{% trans "Slug" %}</th>
            <th width="15%">{% trans "Admins" %}</th>
            <th width="50%" colspan="2">{% trans "Opertors" %}</th>
        </tr>
    </thead>
    <tbody>
        {% for escposweb in data.results %}
            <tr escposweb_id="{{ escposweb.id }}">
                <td>{{ forloop.counter }}.</td>
                <td field="name">{{ escposweb.name }}</td>
                <td>{{ escposweb.slug }}</td>
                {% if forloop.first %}
                    <td rowspan="{{ data.results|length }}" style="vertical-align: middle;">
                        {% for admin in escposweb.admins %}
                            <h4><span class="badge badge-pill badge-primary">
                                {{ admin.nickname }}
                            </span></h4>
                        {% endfor %}
                    </td>
                {% else %}
                {% endif %}
                <td width="35%">
                    {% for operator in escposweb.operators %}
                        <h4><span class="badge badge-pill badge-success">
                            {{ operator.nickname }}
                            <i class="fas fa-user-times" style="color: red;"></i>
                        </span></h4>
                    {% endfor %}
                </td>
                <td width="20%"><button class="btn btn-success">{% trans "Add Operators" %}</button></td>
            </tr>
        {% endfor %}
    </tbody>
</table>
