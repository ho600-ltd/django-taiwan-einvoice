{% load i18n %}

<div class="total_count_row">
    {% if data.id > 0 %}
    {% else %}
        {% with data.count as total_count %}
            {% blocktrans with total_count=total_count %}{{ total_count }} records{% endblocktrans %}
        {% endwith %}
        {% if 'add_staffprofile' in perms %}
            <button id="create_staffprofile_button"
                class="btn btn-success create_staffprofile_modal" data-toggle="modal">
                {% trans "Create Staff" %}
            </button>
        {% endif %}
    {% endif %}
</div>

<table class="table">
    <thead>
        <tr>
            <th width="5%">{% trans "No." %}</th>
            <th width="30%">{% trans "Username" %}</th>
            <th width="10%">{% trans "Nickname" %}</th>
            <th width="15%">{% trans "Is Active?" %}
                <i class="fa fa-info-circle" data-toggle="tooltip"
                    data-html="true" data-placement="left"
                    title='{% trans "The actived user can entry the Taiwan E-Invoice Management Systemc(this system)" %}'></i>
            </th>
            <th width="20%">{% trans "Printer Admin" %}
                <i class="fa fa-info-circle" data-toggle="tooltip"
                    data-html="true" data-placement="left"
                    title='{% trans "The user belongs this group can use ESCPOS Web" %}'></i>
            </th>
            <th width="20%">{% trans "Permission Manager" %}
                <i class="fa fa-info-circle" data-toggle="tooltip"
                    data-html="true" data-placement="left"
                    title='{% trans "The user belongs this group can edit staffs in this page" %}'></i>
            </th>
        </tr>
    </thead>
    <tbody>
        {% if data.id > 0 %}{% with data as staffprofile %}
            <tr staffprofile_id="{{ staffprofile.id }}">
                <td>1.</td>
                <td field="user.username">
                    {{ staffprofile.user_dict.username }}
                </td>
                <td field="nickname">{{ staffprofile.nickname }}</td>
                <td field="is_active">{% if staffprofile.is_active %}{% trans "Actived" %}{% endif %}</td>
                <td field="in_printer_admin_group">{% if staffprofile.in_printer_admin_group %}{% trans "Yes" context "in_printer_admin_group" %}{% endif %}</td>
                <td field="in_manager_group">{% if staffprofile.in_manager_group %}{% trans "Yes" context "in_manager_group" %}{% endif %}</td>
            </tr>
        {% endwith %}{% else %}{% for staffprofile in data.results %}
            <tr staffprofile_id="{{ staffprofile.id }}"
                resource_uri="{% url 'taiwan_einvoice:taiwaneinvoiceapi:staffprofile-detail' pk=staffprofile.id %}">
                <td>{{ forloop.counter }}.</td>
                <td field="user.username">
                    <button class="btn btn-primary update_staffprofile_modal">
                        {{ staffprofile.user_dict.username }}
                    </button>
                </td>
                <td field="nickname">{{ staffprofile.nickname }}</td>
                <td field="is_active">{% if staffprofile.is_active %}{% trans "Actived" %}{% endif %}</td>
                <td field="in_printer_admin_group">{% if staffprofile.in_printer_admin_group %}{% trans "Yes" context "in_printer_admin_group" %}{% endif %}</td>
                <td field="in_manager_group">{% if staffprofile.in_manager_group %}{% trans "Yes" context "in_manager_group" %}{% endif %}</td>
            </tr>
        {% endfor %}{% endif %}
    </tbody>
</table>
